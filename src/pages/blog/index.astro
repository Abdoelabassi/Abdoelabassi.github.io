---
import BlogsLayout from "../../layouts/BlogsLayout.astro";
import moment from "moment";
import PostCard from "../../components/PostCard.astro";
import { formatBlogPosts } from "../../utils";
const allPosts = await Astro.glob("../*.md");
const formattedPosts = formatBlogPosts(allPosts, {
    filterDrafs: true,
    fitlerFuturePosts: true,
    sortByDate: true
});
//console.log(allPosts[0].frontmatter);
---

<BlogsLayout>
        
        <section class="lg:col-span-2 space-y-8">
            <h2 class="text-4xl font-extrabold text-gray-800 mb-6 dark:text-gray-100">Latest Articles</h2>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                {formattedPosts.map((post) => (
                    <PostCard frontmatter={post.frontmatter} url={post.url} />
                ))}
            </div>

        </section>

        <aside class="lg:col-span-1 space-y-8">
            <div class="bg-white rounded-xl shadow-lg p-6 dark:bg-gray-800">
                <h3 class="text-xl font-semibold text-gray-900 mb-4 dark:text-gray-100">Search</h3>
                <div class="flex">
                    <input type="text" placeholder="Search articles..." class="flex-grow border border-gray-300 rounded-l-lg p-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-400">
                    <button class="bg-indigo-600 text-white px-5 py-3 rounded-r-lg hover:bg-indigo-700 transition duration-300 dark:bg-indigo-700 dark:hover:bg-indigo-600">Search</button>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-lg p-6 dark:bg-gray-800">
                <h3 class="text-xl font-semibold text-gray-900 mb-4 dark:text-gray-100">Categories</h3>
                <ul class="space-y-2">
                    <li><a href="#" class="text-gray-700 hover:text-indigo-600 hover:underline transition duration-300 block py-1 dark:text-gray-300 dark:hover:text-indigo-400">Technology (5)</a></li>
                    <li><a href="#" class="text-gray-700 hover:text-indigo-600 hover:underline transition duration-300 block py-1 dark:text-gray-300 dark:hover:text-indigo-400">Design (3)</a></li>
                    <li><a href="#" class="text-gray-700 hover:text-indigo-600 hover:underline transition duration-300 block py-1 dark:text-gray-300 dark:hover:text-indigo-400">Lifestyle (7)</a></li>
                    <li><a href="#" class="text-gray-700 hover:text-indigo-600 hover:underline transition duration-300 block py-1 dark:text-gray-300 dark:hover:text-indigo-400">Travel (2)</a></li>
                    <li><a href="#" class="text-gray-700 hover:text-indigo-600 hover:underline transition duration-300 block py-1 dark:text-gray-300 dark:hover:text-indigo-400">Food (4)</a></li>
                </ul>
            </div>

            <div class="bg-white rounded-xl shadow-lg p-6 dark:bg-gray-800">
                <h3 class="text-xl font-semibold text-gray-900 mb-4 dark:text-gray-100">Recent Posts</h3>
                <ul class="space-y-4">
                    <li>
                        <a href="/post-1" class="block text-gray-800 hover:text-indigo-600 font-medium transition duration-300 dark:text-gray-200 dark:hover:text-indigo-400">
                            Huper-kamiokande published it's first result on neutrinos oscillation of the Hyper-K long-baseline
                        </a>
                        <p class="text-gray-500 text-sm dark:text-gray-400"></p>
                    </li>
                    <li>
                        <a href="#" class="block text-gray-800 hover:text-indigo-600 font-medium transition duration-300 dark:text-gray-200 dark:hover:text-indigo-400">
                            10 Tips for Productive Remote Work
                        </a>
                        <p class="text-gray-500 text-sm dark:text-gray-400">October 25, 2023</p>
                    </li>
                    <li>
                        <a href="#" class="block text-gray-800 hover:text-indigo-600 font-medium transition duration-300 dark:text-gray-200 dark:hover:text-indigo-400">
                            Exploring the Best Coffee Shops in Town
                        </a>
                        <p class="text-gray-500 text-sm dark:text-gray-400">October 22, 2023</p>
                    </li>
                </ul>
            </div>
        </aside>
</BlogsLayout>
